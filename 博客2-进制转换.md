---
title: '使用python编写进制转换函数（非直接调用内置函数）'
date: 2018-10-17
tags: [作业,python]
---
# 进制转换函数:
  <!--more-->
>***这是一个基本思路，从十进制转换到其他进制部分的代码可以简化为一种情况，此处不赘述。***

```python
def tran(origin_base,origin_num,present_base):    #第二个参数必须以字符串形式输入，否则会在输入十进制以上数字时出现错误
    def origin_to_ten(base,num):  #在函数内将原始进制数转化为十进制数的函数
        if base==10:
            return num
        else:
            return int(str(num),base)
    new_num=origin_to_ten(origin_base,origin_num)  #将输入数据转换为十进制数
    present_num=''            
    if present_base==10:       #转换后为十进制的情况
        return new_num
    elif present_base<10:      #转换后为2，8进制等低于十进制的情况
        while new_num//present_base!=0:  #此循环无法将首位数字计入
            present_num=present_num+str(new_num%present_base)
            new_num=new_num//present_base
        present_num=present_num+str(new_num%present_base)  #在循环外加上首位数字
        return present_num[::-1]  #将倒序的数字再次倒序排列转换为正序
    else:     #转换后为十一到16进制的情况
        dict={0:'0'1:'1',2:'2',3:'3',4:'4',
              5:'5',6:'6',7:'7',8:'8',
              9:'9',10:'a',11:'b',12:'c',
              13:'d',14:'e',15:'f'}
        while new_num//present_base!=0: #此循环原理同上一个循环
                present_num=present_num+dict[new_num%present_base]
                new_num=new_num//present_base
        present_num=present_num+dict[new_num%present_base]
        return present_num[::-1]
```



>***我还是把优化后的写一下吧。。。***

```python
def tran(origin_base,origin_num,present_base):    #第二个参数必须以字符串形式输入，否则会在输入十进制以上数字时出现错误
    def origin_to_ten(base,num):  #在函数内将原始进制数转化为十进制数的函数
        if base==10:
            return num
        else:
            return int(str(num),base)
    new_num=origin_to_ten(origin_base,origin_num)  #将输入数据转换为十进制数
    present_num=''            
    dict={0:'0',1:'1',2:'2',3:'3',4:'4',    
          5:'5',6:'6',7:'7',8:'8',
          9:'9',10:'a',11:'b',12:'c',
          13:'d',14:'e',15:'f'}
    while new_num!=0:    #将上一版代码中的各种转换情况合并了，优化了循环语句
        present_num=present_num+dict[new_num%present_base]
        new_num=new_num//present_base
    return present_num[::-1]
print (tran(10,35,2))
```
# 示例：
## 输入:
```python
print (tran(10,35,8))
print (tran(2,10000011,16))
print (tran(10,126,16))
```

## 输出:
```python
43
83
7e
```
# 一个反例：
## 输入：
```python
print (tran(16,7e,10))
```
## 输出：
```python
SyntaxError: invalid syntax
```
>我们可以看到这里出现了一个bug，为什么在交互窗口用int函数转换十六进制数时没有问题而这里有问题了？其实错误并不在
调用int（）函数时，而是在我们输入第二个参数时，输入第二个参数时7e用了数字加字母的组合，e被系统自动判定为一个变量
名，而非十六进制数的一部分，而e是未被定义的，所以便会报错，所以我们要以字符串形式输入'7e'，这样就避免了系统误判的问题。
## 修改后的输入
```python
print (tran(16,'7e',10))
```
## 修改后的输出
```python
126
```
大功告成！！！
------
*作者：爱好小姐姐的咸鱼白*

*欢迎小姐姐们扫码加我微信*
![此处输入图片的描述][2]

  [2]: http://xclwt-blog-image.oss-cn-hangzhou.aliyuncs.com/18-10-1/80219838.jpg
